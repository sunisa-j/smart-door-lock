<ion-view view-title="Doors">
    <ion-content>

        <div ng-repeat="building in doorsAccessData">
            <div class="item item-divider">{{building.name}}</div>

            <div ng-repeat="doorData in building.doorsAccess" class="door-custom-row" ng-class="{'royal-bg': (doorData.status.door=='opened')&&(doorData.status.lock=='locked')}">

                <div class="custom-row-icon" ng-show="doorData.permission.viewStatus==false" ui-sref="mainMenu.doors.doorInfo({buildingId: building.$id, doorId: doorData.$id})">
                    <i class="flaticon-closed42"></i>
                </div>
                <div class="custom-row-icon" ng-show="doorData.permission.viewStatus==true" ui-sref="mainMenu.doors.doorInfo({buildingId: building.$id, doorId: doorData.$id})">
                    <div class="door-status-icon">
                        <i class="ion-ios-locked balanced" ng-show="doorData.status.lock=='locked'"></i>
                        <i class="ion-ios-unlocked assertive" ng-show="doorData.status.lock=='unlocked'"></i>
                    </div>
                    <i class="flaticon-open203" ng-show="doorData.status.door=='opened'"></i>
                    <i class="flaticon-closed42" ng-show="doorData.status.door=='closed'"></i>
                </div>

                <div class="custom-row-title" ui-sref="mainMenu.doors.doorInfo({buildingId: building.$id, doorId: doorData.$id})">
                    <div>{{doorData.name}}</div>
                    <div class="custom-row-desc">{{doorData.desc}}</div>
                    <div class="custom-row-font-status" ng-show="doorData.permission.viewStatus==true">
                        <span ng-show="(doorData.status.door=='opened')&&(doorData.status.lock=='locked')" class="assertive">Locked while opened !</span>
                        <span ng-show="(doorData.status.door!='opened')&&(doorData.status.lock=='locked')" class="balanced">Locked</span>
                        <span ng-show="doorData.status.lock=='unlocked'" class="assertive">Unlocked</span>
                    </div>
                </div>

                <div class="custom-row-button" ng-show="doorData.permission.remoteControl==true">
                    <button class="button button-outline button-block icon-left button-small button-balanced ion-ios-locked-outline"
                            ng-show="doorData.status.lock=='unlocked'">Lock</button>
                    <button class="button button-outline button-block icon-left button-small button-assertive ion-ios-unlocked-outline"
                            ng-show="doorData.status.lock=='locked'">Unlock</button>
                </div>

            </div>
        </div>

    </ion-content>
</ion-view>
